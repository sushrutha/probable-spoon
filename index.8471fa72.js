function e(e){e.messageContainer.innerHTML="";const t=document.createElement("h3");t.textContent="Provide Feedback for this product...";const n=document.createElement("form");n.classList.add("content");const i=document.createElement("input");i.required=!0,i.id="email",i.type="email",i.placeholder="Enter your email address";const s=document.createElement("textarea");s.required=!0,s.id="message",s.placeholder="Enter your message";const o=document.createElement("button");o.textContent="Register",n.appendChild(i),n.appendChild(s),n.appendChild(o),n.addEventListener("submit",e.submit.bind(e)),e.messageContainer.appendChild(t),e.messageContainer.appendChild(n)}function t(e,t){const{email:n,message:i}=t,s={email:n.value,message:i.value};e.messageContainer.innerHTML="<h3>Your feedback is submitted. You will hear from us soon!</h3>",console.log(s)}function n(e,t){e.messageContainer.innerHTML="",console.log("details",t);const n=document.createElement("h3");n.textContent=`Register ${t.product}...`;const i=document.createElement("form");i.classList.add("content");const s=document.createElement("input");s.required=!0,s.id="email",s.type="email",s.placeholder=t.email,s.disabled=!0;const o=document.createElement("button");o.textContent="Register",i.appendChild(s),i.appendChild(o),i.addEventListener("submit",e.submit.bind(e)),e.messageContainer.appendChild(n),e.messageContainer.appendChild(i)}function i(e,t){const{email:n}=t,i={email:n.value};e.messageContainer.innerHTML="<h3>Your product is registered with Brij</h3>",console.log(i)}function s(e){e.messageContainer.innerHTML="";const t=document.createElement("h3");t.textContent="Register product...";const n=document.createElement("form");n.classList.add("content");const i=document.createElement("input");i.required=!0,i.id="email",i.type="email",i.placeholder="Enter your email address";const s=document.createElement("button");s.textContent="Register",n.appendChild(i),n.appendChild(s),n.addEventListener("submit",e.submit.bind(e)),e.messageContainer.appendChild(t),e.messageContainer.appendChild(n)}function o(e,t){const{email:n}=t,i={email:n.value};e.messageContainer.innerHTML="<h3>Your product is registered. Check your email!</h3>",console.log(i)}const a=new class{constructor({position:e="bottom-right",type:t="register"}={}){this.position=this.getPosition(e),this.show=!1,this.api="http://localhost:3000/api/admin",this.type=t,this.open=!1,this.details=null,this.apiKey=null,this.initialize(),this.createStyles(),this.verifyAuth()}getPosition(e){const[t,n]=e.split("-");return{[t]:"30px",[n]:"30px"}}initialize(){const e=document.createElement("div");e.style.position="fixed",Object.keys(this.position).forEach((t=>{e.style[t]=this.position[t]}));const t=document.createElement("div");t.classList.add("button-container","hidden");const n=document.createElement("h5");n.textContent="BRIJ",this.messageContainer=document.createElement("div"),this.messageContainer.classList.add("message-container","hidden"),this.createMessageContainerContent(),t.appendChild(n),t.addEventListener("click",this.toggle.bind(this)),e.appendChild(this.messageContainer),e.appendChild(t),document.body.appendChild(e)}createStyles(){const e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n            .icon {\n                cursor: pointer;\n                width: 70%;\n                position: absolute;\n                top: 9px;\n                left: 9px;\n                transition: transform 0.3s ease;\n            }\n\n            .hidden {\n                transform: scale(0);\n            }\n\n            .button-container {\n                background-color: rgb(112, 124, 224);\n                width: 60px;\n                height: 60px;\n                border-radius: 50%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .button-container:hover {\n                background-color: rgb(112, 124, 224, 0.6);\n            }\n\n            .button-container h5 {\n                color: white;\n                text-align: center;\n                justify-content: center;\n                margin: 0;\n                padding: 0;\n                font-size: 16px;\n                font-weight: 500;\n            }\n\n            .message-container {\n                box-shadow: 0 0 18px 8px rgba(0, 0, 0, 0.2);\n                width: 400px;\n                right: -25px;\n                bottom: 75px;\n                max-height: 400px;\n                position: absolute;\n                transition: max-height 0.3s ease;\n                font-family: Helvetica, Arial, sans-serif;\n            }\n\n            .message-container .content {\n                margin: 20px 10px;\n                border 1px solid #dbdbdb;\n                padding: 10px;\n                display: flex;\n                background-color: #fff;\n                flex-direction: column;\n            }\n\n            .message-container.hidden {\n                max-height: 0px;\n            }\n\n            .message-container h3 {\n                margin: 0;\n                padding: 20px;\n                color: #fff;\n                background-color: rgb(112, 124, 224);\n            }\n\n            .message-container form * {\n                margin: 5px 0\n            }\n\n            .message-container form input {\n                padding: 10px;\n\n            }\n\n            .message-container form textarea {\n                height: 100px;\n                padding: 10px;\n            }\n\n            .message-container form textarea::placeholder {\n                font-family: Helvetica, Arial, sans-serif;\n            }\n\n            .message-container form button {\n                cursor: pointer;\n                background-color: rgb(112, 124, 224);\n                color: #fff;\n                border: none;\n                border-radius: 5px;\n                padding: 10px;\n            }\n\n            .message-container form button:hover {\n                background-color: rgb(112, 124, 224);\n            }\n        "}createMessageContainerContent(){"register"===this.type?s(this):"feedback"===this.type?e(this):"onetouch"===this.type&&n(this,{email:this.details?this.details.email:"",product:this.details?this.details.product:""})}submit(e){e.preventDefault();const n=e.target.elements;"register"===this.type?o(this,n):"feedback"===this.type?t(this,n):"onetouch"===this.type&&i(this,{email:this.details.email,product:this.details.product})}toggle(){this.open=!this.open,this.open?this.messageContainer.classList.remove("hidden"):(this.createMessageContainerContent(),this.messageContainer.classList.add("hidden"))}isOpen(){return this.open}setProductDetails(e){this.details=e}getProductDetails(){return this.details}setType(e){this.type=e}getType(){return this.type}showWidget(){this.show=!0;document.querySelector(".button-container").classList.remove("hidden")}hideWidget(){this.show=!1;document.querySelector(".button-container").classList.add("hidden")}isWidgetVisible(){return this.show}verifyAuth(){const e=new URLSearchParams(window.location.search);if(e.has("auth_token")){const t=e.get("auth_token"),n=window.location.origin,i=`${this.api}/verify?auth_token=${t}&host=${n}`;fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{!0===e.status&&(this.hideWidget(),this.setType("register"),this.showWidget())}))}}setApiKey(e){this.apiKey=e}}({position:"bottom-right"});window.brij=a,console.log("Loaded Brij Widget");
//# sourceMappingURL=index.8471fa72.js.map
